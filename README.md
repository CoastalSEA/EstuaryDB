# 

## Licence
The code is provided as Open Source code (issued under a BSD 3-clause License).

## Requirements
The application is written in Matlab(TM)) and runs under v2016b or later. In addition, EstuaryDB requires the _dstoolbox_ and the _muitoolbox_. To read linework that has been saved as shape files, EstuaryDB includes options to use the Matlab™ Mapping Toolbox, or the function m_shaperead.m, that is part of the M_Map1.4 package (https://www-old.eoas.ubc.ca/~rich/map.html), needs to be installed. In addition, there is the option to use the function insidepoly as an alternative to the Matlab™ function inpolygon (see https://uk.mathworks.com/matlabcentral/fileexchange/27840-2d-polygon-interior-detection).

## Background
EstuaryDB  is a MatlabTM App that enables tables of estuary data (multi-estuary) to be loaded. In addition, estuary specific datasets that are vector or matrix can also be loaded, such as along-channel data, bathymetry and images. Several be-spoke plotting functions are included to examine the variation amongst estuaries, including cross-plots to examine variations about central values (e.g., HW, MT, LW).
### 1.1	Origins of the UK Estuary Database
The original work on UK estuaries was undertaken by Davidson et al (Davidson et al., 1991). Similar work on classification has been undertaken in other countries such as New Zealand (Hume and Herdendorf, 1988; Hume et al., 2007) and the United States of America (Hansen and Rattray, 1966; Pritchard, 1989; Geyer and MacCready, 2014). In the UK, the Estuary Research Programme that ran from 1998-2007. An early version was a byproduct of the EMPHASYS project and led to two papers that provided data and guidance (Townend, 2004; 2005). These concepts were then encapsulated in a portal published by Associated British Ports (ABP) and known as the Estuary Guide (www.estuary-guide.net). Subsequent development of the portal was funded by the Department of Food, Environment and Rural Affairs (Defra), the Environment Agency (EA) and Natural England (NE). The portal has undergone updates over time funded through joint Defra / Environment Agency Flood and Coastal Erosion R&D Programme. 
There have been many contributors to this work, drawing on a wide range of experience. These include: ABPmer, HR Wallingford, Black & Veatch, British Geological Survey, CEFAS, Centre for Ecology and Hydrology, Halcrow, Plymouth Marine Laboratory, Posford Duvivier, Proudman Oceanographic Laboratory, Royal Holloway University of London, University College London, University of Cardiff, University of Durham, University of Liverpool, University of Newcastle, University of Nottingham, University of Plymouth, University of Southampton and WL|Delft Hydraulics Laboratory.
One of the key limitations of this work is the quality of the data available in the early 2000’s to create detailed digital terrain models of the estuaries. Whilst a consistent approach was used to determine properties such as volumes and surface area, there were known errors based on comparisons with more detailed data sets (see Townend, 2005). With the advent of more detailed information for both estuary form but also tidal levels and river discharges, there is now an opportunity to revisit the large-scale, or gross, properties of estuarine systems. The tools provided in the EstuaryDB  aim to provide a consistent approach that can be adopted to investigate the morphology of estuary systems.
### 1.2	The Estuary Project
The EstuaryDB App has been developed to enable a more detailed investigation of estuary and tidal inlet hypsometry. It brings together the option to collate a range properties such as tides, river discharge, classifications, etc, with hypsometry data derived from a bathymetry grid and derived properties such as rates of convergence and gross properties. This can be used to investigate individual estuaries, or groups of estuaries. In the UK it is being used to update the data held in the UK Estuary Database. However, such data are necessarily limited by the range of type and settings to be found in the UK. To expand the scope of datasets available for further analysis (e.g. to explore equilibrium across a range of system types) the App includes the option to archive sets of results as ASCII files. These can also be imported into the App. To avoid data ownership issues the archive file does not include the grid used to create the hypsometry datasets, although the grid, or an image of the grid, can be archived alongside the archive file. This keeps the dataset to the minimum needed for further analysis, whilst providing details of how the datasets were derived and the ability to rerun the analysis by simply loading a suitable (or updated) bathymetry grid. 
- Details of the public archive to hold EstuaryDB archive files to follow.

## Manual
The EstuaryDB manual in the app/doc folder provides further details of setup and configuration of the model. The files for the example use case can be found in the app/example folder. 

## See Also
The repositories for _dstoolbox_, _muitoolbox_ and _muiAppLIb_.
